"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{5284:function(e,a,r){r.r(a),r.d(a,{default:function(){return N}});var t=r(4357),s=r(6439);let l=e=>navigator.clipboard.writeText(e),n="system";var o=r(6485);let i=(e,a,r)=>{let t=[...e];return t[a]=r,t},d=(e,a)=>{let r=[...e];return r.splice(a,1),r},c=(e,a)=>{let r;switch(a.type){case"SET_EXAMPLES":return a.examples;case"ADD_DEFAULT_EXAMPLE":return[...e,{messages:[{role:n,content:""}]}];case"ADD_EXAMPLE":return[...e,a.example];case"UPDATE_MESSAGE":return r=e[a.exampleIndex].messages,i(e,a.exampleIndex,{...e[a.exampleIndex],messages:i(r,a.messageIndex,a.message)});case"ADD_MESSAGE_TO_EXAMPLE":return r=e[a.exampleIndex].messages,i(e,a.exampleIndex,{...e[a.exampleIndex],messages:[...r,{role:n,content:""}]});case"REMOVE_MESSAGE_FROM_EXAMPLE":return r=e[a.exampleIndex].messages,i(e,a.exampleIndex,{...e[a.exampleIndex],messages:d(r,a.messageIndex)});case"REMOVE_EXAMPLE":return d(e,a.exampleIndex);default:throw Error("Unknown action type.")}};var m=r(7243),p=e=>{let{onClick:a,disabled:r=!1,children:s,className:l="",ariaLabel:n}=e;return(0,t.jsx)("button",{onClick:a,disabled:r,className:"p-2 whitespace-nowrap rounded ".concat(l),...n?{"aria-label":n}:{},children:s})};let u="p-2 border border-gray-300 hover:border-gray-400 focus:border-blue-500 rounded-md bg-white dark:bg-gray-700 dark:text-gray-300 dark:hover:border-gray-500 dark:focus:border-blue-700";var x=e=>{let{role:a,content:r,rows:s,contentPlaceholder:l,ariaLabel:n,onRoleChange:o,removeExample:i}=e,d=e=>{["system","user","assistant"].includes(e)&&o({role:e,content:r})},c=e=>{o({role:a,content:e})};return(0,t.jsxs)("div",{className:"flex flex-col m-1",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between mb-2",children:[(0,t.jsxs)("select",{value:a,onChange:e=>d(e.target.value),className:u,"aria-label":"Choose Role",children:[(0,t.jsx)("option",{value:"system",children:"System"}),(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"assistant",children:"Assistant"})]}),i&&(0,t.jsx)("button",{onClick:i,className:"px-2 ml-2 bg-red-500 text-white rounded dark:bg-red-700 hover:bg-red-600 active:bg-red-700","aria-label":"Remove This Example",children:"Remove"})]}),(0,t.jsx)("textarea",{placeholder:l,value:r,onChange:e=>c(e.target.value),className:u,...n?{"aria-label":n}:{},rows:s})]})},g=e=>{let{messages:a,updateMessageInExample:r,addMessageToExample:s,removeMessageFromExample:l,removeExample:n,exampleIndex:o}=e;return(0,t.jsxs)("div",{className:"flex space-x-4 mb-1",children:[a.map((e,a)=>(0,t.jsx)(x,{role:e.role,content:e.content,rows:4,contentPlaceholder:"Message Content",onRoleChange:e=>r(o,a,e),removeExample:()=>l(o,a),ariaLabel:"Message ".concat(a+1," in Example ").concat(o+1)},a)),(0,t.jsxs)("div",{className:"flex flex-col my-1",children:[(0,t.jsxs)(p,{onClick:()=>s(o),className:"h-1/2 bg-blue-500 text-white dark:bg-blue-700 hover:bg-blue-600 active:bg-blue-700 mb-2",ariaLabel:"Add New Message to [".concat(o+1,"] Example"),children:["Add New",(0,t.jsx)("br",{}),"Message"]}),(0,t.jsxs)(p,{onClick:()=>n(o),className:"h-1/2 bg-red-500 text-white dark:bg-red-700 hover:bg-red-600 active:bg-red-700",ariaLabel:"Remove [".concat(o+1,"] Example"),children:["Remove This",(0,t.jsx)("br",{}),"Example"]})]})]})},h=e=>{let{examples:a,updateMessageInExample:r,addMessageToExample:s,removeMessageFromExample:l,removeExample:n}=e;return(0,t.jsx)("div",{children:a.map((e,a)=>(0,t.jsx)("div",{className:"mb-4 overflow-x-auto",children:(0,t.jsx)(g,{messages:e.messages,updateMessageInExample:r,addMessageToExample:s,removeMessageFromExample:l,exampleIndex:a,removeExample:n})},a))})};let b=e=>{e.preventDefault()},f=e=>e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 dark:bg-orange-700 dark:hover:bg-orange-600 dark:active:bg-orange-700",v=e=>"bg-gray-200 dark:bg-gray-700 p-2 ml-4 rounded-lg flex-shrink-0 ".concat(e<10?"text-red-500":"");var E=e=>{let{fileName:a,onFileNameChange:r,handleUpload:s,isUploadDisabled:l,copyToClipboardAsJsonl:n,examplesLength:o}=e;return(0,t.jsxs)("header",{className:"container mx-auto sticky top-0 z-50 bg-white dark:bg-gray-800 p-4 flex justify-between items-center whitespace-nowrap overflow-x-auto",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("form",{onSubmit:b,children:[(0,t.jsx)("label",{className:"sr-only",htmlFor:"filenameInput",children:"File Name"}),(0,t.jsx)("input",{id:"filenameInput",type:"text",value:a,onChange:r,className:"p-2 border border-gray-300 hover:border-gray-400 focus:border-blue-500 rounded-md m-1 bg-white dark:bg-gray-700 dark:text-gray-300 dark:hover:border-gray-500 dark:focus:border-blue-700",placeholder:"File Name"}),(0,t.jsx)(p,{onClick:s,className:f(l),disabled:l,children:"Upload"})]}),(0,t.jsx)(p,{onClick:n,className:"ml-4 bg-yellow-500 text-white hover:bg-yellow-600 active:bg-yellow-700 dark:bg-yellow-700 dark:hover:bg-yellow-600 dark:active:bg-yellow-700",children:"Copy to Clipboard"})]}),(0,t.jsx)("div",{title:o<10?"A minimum of 10 examples is required.":"",className:v(o),children:(0,t.jsxs)("span",{className:"text-xl font-medium",children:[o," example",1!==o?"s":""]})})]})},y=e=>{let{handleFileDrop:a,handleDragOver:r,fileName:s,handleFileNameChange:l,handleUpload:n,isUploadDisabled:o,copyToClipboardAsJsonl:i,examples:d,updateMessageInExample:c,addMessageToExample:u,removeMessageFromExample:g,removeExample:b,addNewExample:f,showFirstMessage:v,setShowFirstMessage:y,defaultFirstRole:w,setDefaultFirstRole:j,defaultFirstMessage:N,setDefaultFirstMessage:k}=e;return(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 min-h-screen",onDrop:a,onDragOver:r,children:[(0,t.jsx)(E,{fileName:s,onFileNameChange:l,handleUpload:n,isUploadDisabled:o,copyToClipboardAsJsonl:i,examplesLength:d.length}),(0,t.jsxs)("main",{className:"container mx-auto pt-0 pr-4 pb-4 pl-4",children:[(0,t.jsx)("div",{className:"ml-1",children:(0,t.jsx)(m.Z,{checked:v,onChange:y,label:"Set default first message"})}),v&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(x,{role:w,content:N,rows:2,contentPlaceholder:"First Message Content",onRoleChange:e=>{j(e.role),k(e.content)},ariaLabel:"First Message Content"})}),(0,t.jsx)(h,{examples:d,updateMessageInExample:c,addMessageToExample:u,removeMessageFromExample:g,removeExample:b}),(0,t.jsx)(p,{onClick:f,className:"bg-green-500 ml-1 text-white dark:bg-green-700 hover:bg-green-600 active:bg-green-700",ariaLabel:"Add New Example",children:"Add New Example"})]})]})};let w=e=>{let a=[{messages:[{role:n,content:""}]}];if(!e)return a;try{return e.split("\n").map(e=>JSON.parse(e))}catch(e){return a}},j=e=>{e.preventDefault()};var N=e=>{let{fileName:a,dataset:r}=e,[i,d]=(0,s.useState)(null!=a?a:""),[m,p]=(0,s.useReducer)(c,w(r)),[u,x]=(0,s.useState)(!0),[g,h]=(0,s.useState)(n),[b,f]=(0,s.useState)(""),[v,E]=(0,s.useState)(null),N=!v||!i.trim();(0,s.useEffect)(()=>{var e,a;E(null!==(a=null===(e=(0,o.Pi)())||void 0===e?void 0:e.trim())&&void 0!==a?a:null)},[]);let k=()=>m.map(e=>JSON.stringify(e)).join("\n"),_=async e=>{e.preventDefault();let a=e.dataTransfer.files;if(0===a.length||!window.confirm("Are you sure you want to overwrite the content with this file?"))return;let r=a[0],t=new FileReader;t.onload=e=>{var a;let r=null===(a=e.target)||void 0===a?void 0:a.result,t=w(r);p({type:"SET_EXAMPLES",examples:t})},t.readAsText(r)};async function M(){let e=k(),a=new Blob([e],{type:"application/jsonl"}),r=new FormData;r.append("file",a,i),r.append("purpose","fine-tune");try{let e=await fetch("https://api.openai.com/v1/files",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)},body:r});if(!e.ok)throw Error("Failed to upload data: ".concat(e.statusText));let a=await e.json();console.log("Data uploaded successfully:",a)}catch(e){console.error("Error uploading data:",e)}}return(0,t.jsx)(y,{handleFileDrop:_,handleDragOver:j,fileName:i,handleFileNameChange:e=>{d(e.target.value)},handleUpload:M,isUploadDisabled:N,copyToClipboardAsJsonl:()=>{l(k())},examples:m,updateMessageInExample:(e,a,r)=>{p({type:"UPDATE_MESSAGE",exampleIndex:e,messageIndex:a,message:r})},addMessageToExample:e=>{p({type:"ADD_MESSAGE_TO_EXAMPLE",exampleIndex:e})},removeMessageFromExample:(e,a)=>{p({type:"REMOVE_MESSAGE_FROM_EXAMPLE",exampleIndex:e,messageIndex:a})},removeExample:e=>{p({type:"REMOVE_EXAMPLE",exampleIndex:e})},addNewExample:()=>{u?p({type:"ADD_EXAMPLE",example:{messages:[{role:g,content:b}]}}):p({type:"ADD_DEFAULT_EXAMPLE"})},showFirstMessage:u,setShowFirstMessage:x,defaultFirstRole:g,setDefaultFirstRole:h,defaultFirstMessage:b,setDefaultFirstMessage:f})}},7243:function(e,a,r){var t=r(4357);r(6439),a.Z=e=>{let{checked:a,onChange:r,label:s}=e;return(0,t.jsx)("div",{className:"mb-4 flex items-center",children:(0,t.jsxs)("label",{htmlFor:"toggle-switch",className:"flex items-center cursor-pointer",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"toggle-switch",type:"checkbox",checked:a,onChange:e=>r(e.target.checked),className:"sr-only","aria-labelledby":"toggle-label"}),(0,t.jsx)("div",{className:"block w-10 h-6 rounded-full ".concat(a?"bg-green-500":"bg-gray-400")}),(0,t.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition ".concat(a?"transform translate-x-full":"")})]}),(0,t.jsx)("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:s})]})})}},6485:function(e,a,r){r.d(a,{Pi:function(){return s},ks:function(){return t},uB:function(){return l}});let t=e=>{sessionStorage.setItem("apiKey",e)},s=()=>sessionStorage.getItem("apiKey"),l=async e=>{let a=await fetch("https://api.openai.com/v1/files",{headers:{Authorization:"Bearer ".concat(e)}});if(!a.ok)throw Error("Network response was not ok"+a.statusText);return await a.json()}},7543:function(e,a,r){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=r(6439),s=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(e,a,r){var t,i={},d=null,c=null;for(t in void 0!==r&&(d=""+r),void 0!==a.key&&(d=""+a.key),void 0!==a.ref&&(c=a.ref),a)l.call(a,t)&&!o.hasOwnProperty(t)&&(i[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===i[t]&&(i[t]=a[t]);return{$$typeof:s,type:e,key:d,ref:c,props:i,_owner:n.current}}a.jsx=i,a.jsxs=i},4357:function(e,a,r){e.exports=r(7543)}}]);